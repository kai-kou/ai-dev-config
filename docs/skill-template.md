# Skill 作成テンプレート

新規スキル作成時のひな形。Anthropic公式ベストプラクティスに準拠。

---

## YAML Frontmatter

```yaml
---
name: my-skill
description: "[What: スキルが何をするか]. [When/Trigger: いつ使うか]。「トリガー1」「トリガー2」と言われたら使用。"
argument-hint: "[引数のヒント]"
---
```

### フィールド選択ガイド

| フィールド | いつ追加するか |
|-----------|-------------|
| `name` | 常に（kebab-case、最大64文字） |
| `description` | 常に（What+When+Triggerパターン、最大1024文字） |
| `argument-hint` | 引数を受け取るスキルの場合 |
| `allowed-tools` | ツール制限が必要な場合（最小権限原則） |
| `model` | デフォルト以外のモデルを使う場合 |
| `context: fork` | サブエージェントとして実行する場合 |
| `agent` | `context: fork` と組み合わせる場合 |
| `user-invocable: false` | /メニューに表示しない場合 |
| `disable-model-invocation: true` | Claude自動起動を禁止する場合 |
| `hooks` | ライフサイクルフックを使う場合 |

---

## 本文テンプレート

```markdown
# [スキル名]

[1行の概要文。このスキルが何を解決するかを端的に記述する。]

## 使用タイミング

- [トリガー条件1]
- [トリガー条件2]
- `/[command-name]` コマンド実行時

## ワークフロー

### Step 1: [フェーズ名]

[このステップで何をするかの説明]

### Step 2: [フェーズ名]

[このステップで何をするかの説明]

### Step 3: 完了報告

[出力フォーマットの説明]

## 使用例

**例1: [基本的な使い方]**
```
[ユーザー入力例]
→ [期待する動作の説明]
```

**例2: [オプション指定]**
```
[ユーザー入力例]
→ [期待する動作の説明]
```

## 品質チェックリスト

- [ ] [出力品質の確認項目1]
- [ ] [出力品質の確認項目2]
- [ ] [出力品質の確認項目3]
```

---

## 追加セクション（必要に応じて）

大規模スキル（SP 5以上、100行超）の場合に検討するセクション:

```markdown
## オプション

| オプション | 説明 | デフォルト |
|-----------|------|----------|
| `--option1` | 説明 | 値 |

## トラブルシューティング

### [症状1]

**症状**: [エラーメッセージや現象]
**原因**: [根本原因]
**対策**: [解決手順]

## 制限事項

| 制限 | 説明 |
|------|------|
| [制限1] | [説明] |

## 前提条件

- [必要な環境・ツール]

## 関連ファイル

| ファイル | パス | 役割 |
|---------|------|------|
| [名前] | `[パス]` | [役割] |
```

---

## 参照ファイルの配置（Progressive Disclosure）

SKILL.mdが肥大化する場合、補助ファイルを分離する:

```
skills/my-skill/
├── SKILL.md              # スキル定義（コア）
└── references/            # 補助ファイル
    ├── CRITERIA.md        # 評価基準・判定ロジック
    ├── TEMPLATE.md        # 出力テンプレート
    └── ERROR_HANDLING.md  # エラー処理ガイド
```

SKILL.mdから参照ファイルへはリンクで接続する:

```markdown
詳細な基準は [CRITERIA.md](references/CRITERIA.md) を参照。
```

---

## Descriptionの書き方

### パターン

```
ユーザー起動型:
"[What: 動詞で始まる機能説明]. [When: 使用コンテキスト]。「trigger1」「trigger2」と言われたら使用。"

内部サブエージェント:
"[What: 動詞で始まる機能説明]. [Details: 補足]. [parent]の[Phase]で呼び出される。"
```

### 良い例

```yaml
# ユーザー起動型
description: "ファイルや文章をグラレコ風インフォグラフィック画像として出力するスキル。GenerateImageツールを使って画像を生成する。「インフォグラフィックを作成」「グラレコにして」と言われたら使用。"

# 内部サブエージェント
description: "タスク実行のFlower Phase 1（Research）を担当するSkill。対象技術のベストプラクティスを調査する。sprint-masterのタスク実行フェーズで呼び出される。"
```

### 避けるべきパターン

```yaml
# NG: 一人称
description: "I can help you create infographics..."

# NG: 曖昧
description: "便利なスキルです"

# NG: トリガーなし
description: "インフォグラフィックを生成する"
```
